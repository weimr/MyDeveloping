1 女娲造人的故事  
1.1 用例描述：女娲涅泥土造人，放入八卦炉烧制  
1.1.1 第一次烤泥人，感觉应该熟了，没烤熟，于是一个白人诞生了！  
1.1.2 第二次烤泥人，多烤一会儿，熟过头了，黑人诞生了  
1.1.3 第三次烤泥人，一遍烧制一边查看，直到表皮微黄，于是黄种人诞生了  

1.2.用例分析  
1.2.1 涉及三个对象：女娲、八卦炉、三种不同肤色的人  
1.2.2 女娲可以适用场景类  
1.2.3 八卦率表示一个工厂  
1.2.4 三种不同肤色的人类都是同一个接口下的不同实现类  

2 工厂方法模式  
2.1 定义：定义一个用于创建对象的接口，让子类决定实例化那一个类。工厂方法使一个类的实例化延迟到其子类  
2.2 角色  
1）抽象产品类Product：负责定义产品的共性，实现对事物最抽象的定义  
2）抽象创建类Creator：即抽象工厂
3）具体产品类ConcreteCreator：具体创建产品类

3 工厂方法模式的应用  
3.1 工厂方法模式的优点  
1）良好的封装性，代码结构清晰  
2）扩展性非常优秀  
3）屏蔽产品类  
4）典型的解耦框架

3.2 使用场景  
1）new一个对象的替代品  
2）需求灵活的、可扩展的框架时  
3）异构项目
4）测试驱动开发的框架

4 扩展  
4.1 简单工厂模式  
1）定义：一个模块仅需要一个工厂类
2）变化：HumanFactory类仅有两个地方发生变化  
（1）去掉继承抽象类，并在createHuman前增加static关键字
（2）引起了调用者NvWa的变化
3）之所以成为简单工厂模式，是因此采用静态方法创建，亦称作静态工厂模式

4.2 多个工厂类  
1）定义：每个工厂独立负责创建一个产品，职责单一
2）应用：在复杂的应用中一般采用多工厂的方法，然后再增加一个协调类，避免调用者与各个子工厂交流，协调类的作用就是封装子工厂类，对高层模块提供统一的访问接口

4.3 替代单例模式
1）定义：通过工厂方法模式在内存中只生产一个对象，采用反射机制
2）扩展：在一个项目中可以产生一个单例构造器，所有需要产生单例的类都遵循一定的规则（构造方法是private），然后通过扩展该框架，只要输入一个类型就可以获取唯一的一个实例

4.4 延迟初始化
1）定义：一个对象被消费完毕后，并不立刻释放，工厂类保持其初始状态，等待再次被使用
2）描述：通过定义一个Map容器，容纳所有产生的对象，如果在Map容器中已经有的对象，则直接取出返回；如果没有，则根据需要的类型产生一个对象并放入到Map容易，以方便下次调用
3）扩展：延迟加载框架时可以扩展的，例如限制某一个产品类的最大实例化数量，可以通过判断Map中已有的对象数量来实现，例如JDBC连接数限制；延迟加载还可以用在对象初始化比较复杂的情况，例如硬件访问，涉及多方面的交互，通过延迟加载降低对象的产生和销毁带来的复杂性